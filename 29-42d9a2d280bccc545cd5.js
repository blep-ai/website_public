(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"435K":function(e,t,i){"use strict";i.r(t);i("lY1d"),i("K6vE");var n=i("o0o1"),r=i.n(n),s=(i("ls82"),i("UsjJ"),i("q1tI")),o=i.n(s),a=i("gZLm"),c=i("aUsF"),h=i.n(c);function u(e,t,i,n,r,s,o){try{var a=e[s](o),c=a.value}catch(h){return void i(h)}a.done?t(c):Promise.resolve(c).then(n,r)}var l={candlestick:"addCandlestickSeries",line:"addLineSeries",area:"addAreaSeries",bar:"addBarSeries",histogram:"addHistogramSeries"},d=["#008FFB","#00E396","#FEB019","#FF4560","#775DD0","#F86624","#A5978B"],p=function(e){var t,i;function n(t){var i;return(i=e.call(this,t)||this).resizeHandler=function(){var e=i.props.autoWidth&&i.chartDiv.current&&i.chartDiv.current.parentNode.clientWidth,t=i.props.autoHeight&&i.chartDiv.current?i.chartDiv.current.parentNode.clientHeight:i.props.height||500;i.chart.resize(e,t)},i.removeSeries=function(){i.series.forEach((function(e){return i.chart.removeSeries(e)})),i.series=[]},i.addSeries=function(e,t){var n=l[t],r=e.option&&e.options.color||d[i.series.length%d.length],s=i.chart[n](Object.assign({color:r},e.options)),o=i.handleLinearInterpolation(e.data,e.linearInterpolation);return s.setData(o),e.markers&&s.setMarkers(e.markers),e.priceLines&&e.priceLines.forEach((function(e){return s.createPriceLine(e)})),e.legend&&i.addLegend(s,r,e.legend),s},i.handleSeries=function(){var e=i.series,t=i.props;t.candlestickSeries&&t.candlestickSeries.forEach((function(t){e.push(i.addSeries(t,"candlestick"))})),t.lineSeries&&t.lineSeries.forEach((function(t){e.push(i.addSeries(t,"line"))})),t.areaSeries&&t.areaSeries.forEach((function(t){e.push(i.addSeries(t,"area"))})),t.barSeries&&t.barSeries.forEach((function(t){e.push(i.addSeries(t,"bar"))})),t.histogramSeries&&t.histogramSeries.forEach((function(t){e.push(i.addSeries(t,"histogram"))}))},i.unsubscribeEvents=function(e){var t=i.chart;t.unsubscribeClick(e.onClick),t.unsubscribeCrosshairMove(e.onCrosshairMove),t.unsubscribeVisibleTimeRangeChange(e.onTimeRangeMove)},i.handleEvents=function(){var e=i.chart,t=i.props;t.onClick&&e.subscribeClick(t.onClick),t.onCrosshairMove&&e.subscribeCrosshairMove(t.onCrosshairMove),t.onTimeRangeMove&&e.subscribeVisibleTimeRangeChange(t.onTimeRangeMove),e.subscribeCrosshairMove(i.handleLegends)},i.handleTimeRange=function(){var e=i.props,t=e.from,n=e.to;t&&n&&i.chart.timeScale().setVisibleRange({from:t,to:n})},i.handleLinearInterpolation=function(e,t){if(!t||e.length<2||!e[0].value)return e;var i=e[0].time,n=e[e.length-1].time,r=new Array(Math.floor((n-i)/t));r[0]=e[0];for(var s=1,o=1;o<e.length;o++){r[s++]=e[o];for(var a=e[o-1].time,c=e[o-1].value,h=e[o],u=h.time,l=h.value,d=a;d<u-t;d+=t){var p=c+(l-c)/(u-a)*(d-a);r[s++]={time:d,value:p}}}return r.filter((function(e){return e}))},i.handleUpdateChart=function(){window.removeEventListener("resize",i.resizeHandler);var e=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i),t=e.chart,n=e.chartDiv,r=i.props,s=Object.assign({width:r.autoWidth?n.current.parentNode.clientWidth:r.width,height:r.autoHeight?n.current.parentNode.clientHeight:r.height||500},r.options);t.applyOptions(s),i.legends=[],i.props.legend&&i.handleMainLegend(),i.handleSeries(),i.handleEvents(),i.handleTimeRange(),(r.autoWidth||r.autoHeight)&&window.addEventListener("resize",i.resizeHandler)},i.addLegend=function(e,t,n){i.legends.push({series:e,color:t,title:n})},i.handleLegends=function(e){var t=i.legendDiv.current;e.time&&t&&i.legends.length&&(t.innerHTML="",i.legends.forEach((function(i){var n=i.series,r=i.color,s=i.title,o=e.seriesPrices.get(n);if(void 0!==o){"object"==typeof o&&(r=o.open<o.close?"rgba(0, 150, 136, 0.8)":"rgba(255,82,82, 0.8)",o="O: "+o.open+", H: "+o.high+", L: "+o.low+", C: "+o.close);var a=document.createElement("div");a.innerText=s+" ";var c=document.createElement("span");c.style.color=r,c.innerText=" "+o,a.appendChild(c),t.appendChild(a)}})))},i.handleMainLegend=function(){if(i.legendDiv.current){var e=document.createElement("div");e.innerText=i.props.legend,i.legendDiv.current.appendChild(e)}},i.chartDiv=o.a.createRef(),i.legendDiv=o.a.createRef(),i.chart=null,i.series=[],i.legends=[],i}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,t.__proto__=i;var s=n.prototype;return s.componentDidMount=function(){var e,t=(e=r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.chart=Object(a.a)(this.chartDiv.current),this.handleUpdateChart(),this.resizeHandler();case 3:case"end":return e.stop()}}),e,this)})),function(){var t=this,i=arguments;return new Promise((function(n,r){var s=e.apply(t,i);function o(e){u(s,n,r,o,a,"next",e)}function a(e){u(s,n,r,o,a,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),s.componentDidUpdate=function(e){this.props.autoWidth||this.props.autoHeight||window.removeEventListener("resize",this.resizeHandler),h()([e.onCrosshairMove,e.onTimeRangeMove,e.onClick],[this.props.onCrosshairMove,this.props.onTimeRangeMove,this.props.onClick])||this.unsubscribeEvents(e),h()([e.options,e.candlestickSeries,e.lineSeries,e.areaSeries,e.barSeries,e.histogramSeries],[this.props.options,this.props.candlestickSeries,this.props.lineSeries,this.props.areaSeries,this.props.barSeries,this.props.histogramSeries])?e.from===this.props.from&&e.to===this.props.to||this.handleTimeRange():(this.removeSeries(),this.handleUpdateChart())},s.render=function(){return o.a.createElement("div",{className:this.props.className,ref:this.chartDiv,style:{position:"relative"}},o.a.createElement("div",{ref:this.legendDiv,style:{position:"absolute",zIndex:2,color:"#000A",padding:10}}))},n}(o.a.Component);t.default=p},aUsF:function(e,t,i){"use strict";e.exports=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var n,r,s;if(Array.isArray(t)){if((n=t.length)!=i.length)return!1;for(r=n;0!=r--;)if(!e(t[r],i[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((n=(s=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(i,s[r]))return!1;for(r=n;0!=r--;){var o=s[r];if(!e(t[o],i[o]))return!1}return!0}return t!=t&&i!=i}},f2KN:function(e,t,i){"use strict";function n(e){return new r(e)}i.d(t,"a",(function(){return n}));var r=function(){function e(e){var t=this;this._resolutionMediaQueryList=null,this._resolutionListener=function(e){return t._onResolutionChanged()},this._canvasConfiguredListeners=[],this.canvas=e,this._canvasSize={width:this.canvas.clientWidth,height:this.canvas.clientHeight},this._configureCanvas(),this._installResolutionListener()}return e.prototype.destroy=function(){this._canvasConfiguredListeners.length=0,this._uninstallResolutionListener(),this.canvas=null},Object.defineProperty(e.prototype,"canvasSize",{get:function(){return{width:this._canvasSize.width,height:this._canvasSize.height}},enumerable:!0,configurable:!0}),e.prototype.resizeCanvas=function(e){this._canvasSize={width:e.width,height:e.height},this._configureCanvas()},Object.defineProperty(e.prototype,"pixelRatio",{get:function(){var e=this.canvas.ownerDocument.defaultView;if(null==e)throw new Error("No window is associated with the canvas");return e.devicePixelRatio},enumerable:!0,configurable:!0}),e.prototype.subscribeCanvasConfigured=function(e){this._canvasConfiguredListeners.push(e)},e.prototype.unsubscribeCanvasConfigured=function(e){this._canvasConfiguredListeners=this._canvasConfiguredListeners.filter((function(t){return t!=e}))},e.prototype._configureCanvas=function(){var e=this.pixelRatio;this.canvas.style.width=this._canvasSize.width+"px",this.canvas.style.height=this._canvasSize.height+"px",this.canvas.width=this._canvasSize.width*e,this.canvas.height=this._canvasSize.height*e,this._emitCanvasConfigured()},e.prototype._emitCanvasConfigured=function(){var e=this;this._canvasConfiguredListeners.forEach((function(t){return t.call(e)}))},e.prototype._installResolutionListener=function(){if(null!==this._resolutionMediaQueryList)throw new Error("Resolution listener is already installed");var e=this.canvas.ownerDocument.defaultView;if(null==e)throw new Error("No window is associated with the canvas");var t=e.devicePixelRatio;this._resolutionMediaQueryList=e.matchMedia("all and (resolution: "+t+"dppx)"),this._resolutionMediaQueryList.addListener(this._resolutionListener)},e.prototype._uninstallResolutionListener=function(){null!==this._resolutionMediaQueryList&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},e.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},e.prototype._onResolutionChanged=function(){this._configureCanvas(),this._reinstallResolutionListener()},e}()}}]);
//# sourceMappingURL=29-42d9a2d280bccc545cd5.js.map